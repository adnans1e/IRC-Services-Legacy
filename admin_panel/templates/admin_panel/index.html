{% load static %}
<!DOCTYPE html>
<html ng-app="adminApp"
      ng-controller="BaseController as baseController"
      {% verbatim %}
      lang="{{ baseController.language }}"
      {% endverbatim %}
      
      >

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Refugee.Info Admin Site</title>

    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {% include "admin_panel/css.html" %}
    {% block additional-requirements %}{% endblock %}
</head>

<body class="hold-transition skin-signpost sidebar-mini">
<div class="layout-container" ng-if="user" ng-cloak>
    <header class="layout-header" ng-include="'partials/navbar.html'"></header>
    <div class="layout-wrapper flex-row">
        <perfect-scrollbar min-scrollbar-length="20" class="layout-navigation">
            <div ng-include="'partials/menu.html'" class="layout-navigation-inner"></div>
        </perfect-scrollbar>

        <div class="layout-wrapper flex-column">
            <div ui-view="main" autoscroll="false" class="layout-content"></div>
            <footer class="layout-footer" id="footer">
            </footer>
        </div>
    </div>
</div>

<div ng-if="!user" ui-view="login" class="login-view" autoscroll="false"></div>


{% block loading-spinner %}
<div class="fixed-loading-container" ng-show="activeRequests > 0">
        <div class="sk-fading-circle">
            <div class="sk-circle1 sk-circle"></div>
            <div class="sk-circle2 sk-circle"></div>
            <div class="sk-circle3 sk-circle"></div>
            <div class="sk-circle4 sk-circle"></div>
            <div class="sk-circle5 sk-circle"></div>
            <div class="sk-circle6 sk-circle"></div>
            <div class="sk-circle7 sk-circle"></div>
            <div class="sk-circle8 sk-circle"></div>
            <div class="sk-circle9 sk-circle"></div>
            <div class="sk-circle10 sk-circle"></div>
            <div class="sk-circle11 sk-circle"></div>
            <div class="sk-circle12 sk-circle"></div>
        </div>
    </div>
{% endblock loading-spinner %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<script src="//cdn.datatables.net/1.10.13/js/jquery.dataTables.js"></script>
<script type="text/javascript" src='{% static 'leaflet/dist/leaflet.js' %}'></script>
<script type="text/javascript" src='{% static 'leaflet-draw/dist/leaflet.draw.js' %}'></script>
<script src="{% static "js/app.js" %}"></script>


<script type="text/javascript" src='{% static 'angular/angular.js' %}'></script>

<script type="text/javascript" src='{% static 'angular-datatables/dist/angular-datatables.js' %}'></script>
<script type="text/javascript" src='{% static 'angular-breadcrumb/dist/angular-breadcrumb.min.js' %}'></script>
<script type="text/javascript" src="{% static 'angular-animate/angular-animate.js' %}"></script>
<script type="text/javascript" src='{% static 'angular-ui-router/release/angular-ui-router.min.js' %}'></script>
<script type="text/javascript" src="{% static 'djng/js/django-angular.js' %}"></script>
<script type="text/javascript" src="{% static 'angular-cookies/angular-cookies.min.js' %}"></script>
<script type="text/javascript" src='{% static 'angular-sanitize/angular-sanitize.min.js' %}'></script>
<script type="text/javascript" src='{% static 'ui-select/dist/select.min.js' %}'></script>
<script type="text/javascript" src='{% static 'angular-drag-and-drop-lists/angular-drag-and-drop-lists.js' %}'></script>
<script type="text/javascript" src='{% static 'ckeditor/ckeditor.js' %}'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ckeditor/1.0.3/angular-ckeditor.min.js"></script>
<script type="text/javascript" src='{% static 'angular-toasty/dist/angular-toasty.js' %}'></script>
<script type="text/javascript" src='{% static 'angular-translate/dist/angular-translate.min.js' %}'></script>
<script type="text/javascript"
        src='{% static 'angular-translate-loader-static-files/angular-translate-loader-static-files.js' %}'></script>
<script type="text/javascript"
        src='{% static 'angular-translate-storage-cookie/angular-translate-storage-cookie.min.js' %}'></script>
<script type="text/javascript" src='{% static 'ngstorage/ngStorage.min.js' %}'></script>
<script type="text/javascript" src='{% static 'angular-ui-bootstrap/dist/ui-bootstrap.js' %}'></script>
<script type="text/javascript" src='{% static 'angular-ui-bootstrap/dist/ui-bootstrap-tpls.js' %}'></script>
<script type="text/javascript"
        src='{% static 'fontawesome-iconpicker/dist/js/fontawesome-iconpicker.min.js' %}'></script>
<script type="text/javascript" src='{% static 'lodash/lodash.min.js' %}'></script>
<script type="text/javascript" src='{% static 'restangular/dist/restangular.min.js' %}'></script>
<script type="text/javascript"
        src='{% static 'angular-simple-logger/dist/angular-simple-logger.light.min.js' %}'></script>
<script type="text/javascript" src='{% static 'satellizer/dist/satellizer.min.js' %}'></script>
<script type="text/javascript" src="{% static 'file-saver/FileSaver.min.js' %}"></script>
<script type="text/javascript" src="{% static 'ng-file-upload/dist/ng-file-upload-shim.min.js' %}"></script>
<script type="text/javascript" src="{% static 'ng-file-upload/dist/ng-file-upload.min.js' %}"></script>
<script type="text/javascript" src="{% static 'chart.js/dist/Chart.min.js' %}"></script>
<script type="text/javascript" src="{% static 'angular-chart.js/dist/angular-chart.min.js' %}"></script>

<script type="text/javascript" src='{% static 'js/adminApp/app.built.js' %}'></script>

<script type="text/javascript" src='{% static 'leaflet-plugins/layer/tile/Google.js' %}'></script>
<script type="text/javascript" src='{% static 'leaflet.markercluster/dist/leaflet.markercluster.js' %}'></script>
<script type="text/javascript" src='{% static 'Leaflet.vector-markers/dist/leaflet-vector-markers.js' %}'></script>
<script type="text/javascript"
        src='{% static 'angular-leaflet-directive/dist/angular-leaflet-directive.min.js' %}'></script>
<script type="application/javascript" src="{% static 'moment/min/moment.min.js' %}"></script>
<script type="application/javascript" src="{% static 'moment-timezone/builds/moment-timezone-with-data.min.js' %}"></script>
<script type="application/javascript" src="{% static 'angular-moment/angular-moment.min.js' %}"></script>
<script src="{% static 'bootstrap-daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'angular-daterangepicker/js/angular-daterangepicker.js' %}"></script>
<script src="{% static 'angular-material/angular-material.min.js' %}"></script>
<script src="{% static 'angular-aria/angular-aria.min.js' %}"></script>
<script src="{% static 'angular-messages/angular-messages.min.js' %}"></script>
<script src="{% static 'angular-material/angular-material.min.js' %}"></script>
<script src="{% static 'angular-spinner/dist/angular-spinner.min.js' %}"></script>
<script>
(function(w,d,s,g,js,fs){
  g=w.gapi||(w.gapi={});g.analytics={q:[],ready:function(f){this.q.push(f);}};
  js=d.createElement(s);fs=d.getElementsByTagName(s)[0];
  js.src='https://apis.google.com/js/platform.js';
  fs.parentNode.insertBefore(js,fs);js.onload=function(){g.load('analytics');};
}(window,document,'script'));
</script>

<script src="{% static 'perfect-scrollbar/dist/perfect-scrollbar.min.js' %}"></script>
<script src="{% static 'angular-perfect-scrollbar/src/angular-perfect-scrollbar.js' %}"></script>
<script src="{% static 'tinycolor/tinycolor.js' %}"></script>
<script src="{%  static 'angularjs-color-picker/dist/angularjs-color-picker.js' %}"></script>

<script type="text/javascript">
    window.API_URL = '{{ API_URL }}';
    window.STATIC_URL = '{{ STATIC_URL }}';
    angular.module('adminApp').constant('apiUrl', '{{ API_URL }}');
    angular.module('adminApp').constant('staticUrl', '{{ STATIC_URL }}');
    angular.module('adminApp').constant('webClientUrl', '{{ WEB_CLIENT_URL }}');
    angular.module('adminApp').constant('languages', [{% for k, v in LANGUAGES %}['{{ k }}', '{{ v }}']{% if not forloop.last %}, {% endif %}{% endfor %}]);
    angular.module('adminApp').constant('service_languages', [{% for k, v in SERVICE_LANGUAGES %}['{{ k }}', '{{ v }}']{% if not forloop.last %}, {% endif %}{% endfor %}]);
    angular.module('adminApp').constant('userEmail', '{{ request.user }}');
    angular.module('adminApp').constant('user', JSON.parse('{{ USER|safe }}'));
    angular.module('adminApp').constant('selectedProvider', JSON.parse('{{ SELECTED_PROVIDER|safe }}'));
    angular.module('adminApp').constant('permissions', JSON.parse('{{ PERMISSIONS|safe }}'));
    

    $(function () {
        if (window.L && !window.L.geoJSON) {
            L.geoJSON = L.geoJson;
        }
    });
</script>
<toasty></toasty>
</body>

</html>